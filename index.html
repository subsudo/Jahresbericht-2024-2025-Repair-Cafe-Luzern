<!DOCTYPE html>
<html lang="de" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jahresbericht 2025 - Repair Café Luzern</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Roboto+Slab:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        h1, h2, h3 {
            font-family: 'Roboto Slab', serif;
        }
        .text-rc-blue-dark { color: #0056b3; }

        /* Bilder verhalten sich responsiv */
        img { max-width: 100%; height: auto; display: block; }

        .fade-in-section {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 1s ease-out, transform 1s ease-out;
        }
        .fade-in-section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        .bg-hero {
            background-color: #f0f4f8;
            background-image: radial-gradient(#d0dce7 1px, transparent 1px);
            background-size: 16px 16px;
            /* Parallax kann auf iOS ruckeln; auf kleinen Screens deaktivieren */
            background-attachment: fixed;
            background-position: center;
        }
        @media (max-width: 768px) {
            .bg-hero { background-attachment: scroll; }
        }
        .chart-container {
            position: relative;
            height: 400px;
            width: 100%;
        }
        @media (max-width: 640px) {
            .chart-container { height: 300px; }
        }
        .modal {
            transition: opacity 0.25s ease;
        }
        .slider-dot {
            transition: background-color: 0.2s;
        }
        .slider-dot.active {
            background-color: #0056b3;
        }
        .info-tooltip {
            position: relative;
            display: inline-block;
        }
        .info-tooltip .tooltip-text {
            visibility: hidden;
            width: 220px;
            background-color: #555;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -110px;
            opacity: 0;
            transition: opacity 0.3s;
            font-family: 'Inter', sans-serif;
            font-size: 0.8rem;
            font-weight: normal;
        }
        .info-tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
        .slideshow-container .slide {
            transition: opacity 1s ease-in-out;
        }
        .list-styled {
            list-style-type: none;
            padding-left: 0;
        }
        .list-styled li {
            position: relative;
            padding-left: 1.75rem;
            margin-bottom: 0.75rem;
        }
        .list-styled li::before {
            content: '✓';
            position: absolute;
            left: 0;
            top: 0;
            color: #28a745;
            font-weight: bold;
        }

        /* Animations for scroll-triggered items */
        .animate-item {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .is-visible .animate-item {
            opacity: 1;
            transform: translateY(0);
        }
        /* Staggered delay for items */
        .is-visible .animate-item:nth-child(1) { transition-delay: 0.2s; }
        .is-visible .animate-item:nth-child(2) { transition-delay: 0.4s; }
        .is-visible .animate-item:nth-child(3) { transition-delay: 0.6s; }
        .is-visible .animate-item:nth-child(4) { transition-delay: 0.8s; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 overflow-x-hidden">

    <!-- Header & Navigation -->
    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2 min-w-0">
                <img src="assets/banner-highres-narrow.png" alt="Logo Icon" class="h-10 w-auto">
                <span class="font-bold text-lg text-gray-700 hidden sm:block truncate">Repair Café Luzern</span>
            </div>
            <!-- Links umbrechen, damit kein horizontaler Overflow entsteht -->
            <div class="flex flex-wrap gap-x-3 gap-y-1 text-xs sm:text-base text-gray-600 font-semibold justify-end">
                <a href="#10-jahre" class="hover:text-rc-blue-dark transition">Über Uns</a>
                <a href="#statistiken" class="hover:text-rc-blue-dark transition">Statistiken</a>
                <a href="#finanzen" class="hover:text-rc-blue-dark transition">Finanzen</a>
                <a href="#special-events" class="hover:text-rc-blue-dark transition">Spezial-Events</a>
                <a href="#team" class="hover:text-rc-blue-dark transition">Team & Ausblick</a>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section class="bg-hero text-center py-20 sm:py-32">
            <div class="container mx-auto px-6">
                <img src="assets/banner-highres-narrow.png" alt="Repair Café Luzern Logo" class="mx-auto h-auto w-full max-w-[320px] sm:max-w-md md:max-w-lg mb-6">
                <h1 class="text-4xl md:text-6xl font-bold text-gray-800">Jahresbericht 2025</h1>
                <p class="text-lg md:text-xl text-gray-600 mt-4 max-w-lg mx-auto">Ein Rückblick auf 10 Jahre gemeinsames Reparieren, Lernen und Ressourcen schonen in Luzern.</p>
            </div>
        </section>

        <!-- 10 Jahre Section -->
        <section id="10-jahre" class="py-20 bg-white">
            <div class="container mx-auto px-6 fade-in-section">
                <div class="grid md:grid-cols-2 gap-12 items-center">
                    <div class="space-y-4">
                        <h2 class="text-4xl font-bold text-rc-blue-dark">Ein Jahrzehnt für die Nachhaltigkeit</h2>
                        <p class="text-lg leading-relaxed text-gray-600">Am <strong>12. September 2015</strong> fand im Neubad das allererste Repair Café Luzern statt. Gegründet von den Visionärinnen <strong>Isabelle Mauchle</strong> und <strong>Aurelia Meier</strong>, begann eine Erfolgsgeschichte. Was als kleine Idee startete, ist heute – dank unzähliger Stunden freiwilliger Arbeit und dem grossen Zuspruch aus der Bevölkerung – eine feste Institution für gelebte Nachhaltigkeit in unserer Stadt.</p>
                        <p class="text-gray-600">Wir blicken dankbar auf zehn Jahre voller gelungener Reparaturen, wertvoller Begegnungen und weitergegebenem Wissen zurück.</p>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <img src="assets/10-jahre-repaircafe-event.png" alt="Erstes Repair Café Event" class="rounded-lg shadow-lg cursor-pointer hover:scale-105 transition-transform duration-300" onclick="openModal(this.src)">
                        <img src="assets/10-jahre-repaircafe-event-bild-2.png" alt="Freiwillige bei der Arbeit" class="rounded-lg shadow-lg cursor-pointer hover:scale-105 transition-transform duration-300 mt-8" onclick="openModal(this.src)">
                    </div>
                </div>
            </div>
        </section>

        <!-- Statistics Section -->
        <section id="statistiken" class="py-20 bg-gray-50">
            <div class="container mx-auto px-6 space-y-16">
                <div class="text-center max-w-3xl mx-auto fade-in-section">
                    <h2 class="text-4xl font-bold text-rc-blue-dark">Unsere Wirkung in Zahlen 
                        <div class="info-tooltip inline-block">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-400 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            <span class="tooltip-text">Alle Zahlen basieren auf Schätzungen und Auswertungen unserer Reparatur-Statistiken seit 2015.</span>
                        </div>
                    </h2>
                    <p class="text-lg text-gray-600 mt-4">Zahlen machen unseren gemeinsamen Erfolg greifbar. Sie zeigen, wie jede einzelne Reparatur zu einem grossen Ganzen beiträgt – für die Umwelt und für das Portemonnaie.</p>
                </div>

                <!-- Animated Counters -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center fade-in-section">
                    <div class="bg-white p-8 rounded-lg shadow-md animate-item">
                        <div class="text-5xl font-bold text-rc-blue-dark" data-count="3900">0</div>
                        <div class="text-gray-500 mt-2 text-lg">Reparaturannahmen seit 2015</div>
                    </div>
                    <div class="bg-white p-8 rounded-lg shadow-md animate-item">
                        <div class="text-5xl font-bold text-green-600" data-count="170000">0</div>
                        <div class="text-gray-500 mt-2 text-lg">kg CO₂ eingespart (ca.)</div>
                    </div>
                    <div class="bg-white p-8 rounded-lg shadow-md animate-item">
                        <div class="text-5xl font-bold text-yellow-600" data-count="250000">0</div>
                        <div class="text-gray-500 mt-2 text-lg">Franken eingespart (ca.)</div>
                    </div>
                </div>

                <!-- Impact Visualizations -->
                <div class="fade-in-section text-center">
                    <h3 class="text-2xl font-bold text-gray-700 mb-6">Was bedeuten diese Zahlen?</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 max-w-5xl mx-auto">
                        <div class="bg-white p-6 rounded-lg shadow-md flex flex-col items-center justify-center animate-item">
                            <span class="text-6xl mb-2">🐘</span>
                            <p class="font-semibold text-gray-700">Das Gewicht von 30 afrikanischen Elefanten an CO₂ eingespart.</p>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md flex flex-col items-center justify-center animate-item">
                            <span class="text-6xl mb-2">🌍</span>
                            <p class="font-semibold text-gray-700">Entspricht ca. 25 Erdumrundungen mit dem Auto.</p>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md flex flex-col items-center justify-center animate-item">
                            <span class="text-6xl mb-2">✈️</span>
                            <p class="font-semibold text-gray-700">Vergleichbar mit 128 Flugreisen von Zürich nach New York.</p>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md flex flex-col items-center justify-center animate-item">
                            <span class="text-6xl mb-2">☕</span>
                            <p class="font-semibold text-gray-700">Vom gesparten Geld könnte man über 55'000 Kaffees im Bistro Neubad kaufen.</p>
                        </div>
                    </div>
                </div>

                <!-- Interactive & Static Charts Mix -->
                <div class="space-y-12">
                    <div class="bg-white p-6 rounded-lg shadow-md fade-in-section">
                        <h3 class="text-2xl font-bold text-gray-700 mb-2 text-center">Wachstum der Reparaturversuche</h3>
                        <p class="text-center text-gray-600 mb-4 max-w-2xl mx-auto">Diese Grafik zeigt den wachsenden Berg der kumulativen Reparaturversuche seit 2015. Die stetig steigende Kurve zeigt eindrücklich, wie das Vertrauen und die Bekanntheit des Repair Cafés über die Jahre gewachsen sind.</p>
                        <img src="assets/statistik-reparaturversuche-repaircafe-2015-2025.png" alt="Kumulative Anzahl Reparaturversuche" class="mx-auto h-auto w-[90%] max-w-[520px] sm:w-full sm:max-w-2xl lg:max-w-3xl rounded-lg shadow-md cursor-pointer" onclick="openModal(this.src)">
                    </div>

                    <div class="grid lg:grid-cols-2 gap-12 items-center fade-in-section">
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <h3 class="text-2xl font-bold text-gray-700 mb-4 text-center">Erfolgsstatistik 2024/25</h3>
                            <div class="chart-container"><canvas id="erfolgsChart"></canvas></div>
                        </div>
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <h3 class="text-2xl font-bold text-gray-700 mb-4 text-center">Entwicklung der Reparaturannahmen (2015–2025)</h3>
                            <div class="chart-container"><canvas id="standortChart"></canvas></div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-lg shadow-md fade-in-section">
                        <h3 class="text-2xl font-bold text-gray-700 mb-4 text-center">Anzahl angenommener Gegenstände nach Standort (2024/2025)</h3>
                        <div class="chart-container"><canvas id="eventsChart"></canvas></div>
                    </div>

                    <div class="grid lg:grid-cols-2 gap-12 items-stretch fade-in-section">
                        <div class="text-center bg-white p-6 rounded-lg shadow-md flex flex-col">
                            <h3 class="text-2xl font-bold text-gray-700 mb-4">Was wurde repariert?</h3>
                            <p class="text-gray-600 mb-4">Von Audio-Geräten bis zu Hosen – die Vielfalt der reparierten Gegenstände zeigt die breite Expertise unserer Helfer.</p>
                            <img src="assets/geraetemix-2024-2025-statistik.png" alt="Gerätemix 2024/2025" class="rounded-lg shadow-md cursor-pointer mt-auto" onclick="openModal(this.src)">
                        </div>
                        <div class="text-center bg-white p-6 rounded-lg shadow-md flex flex-col">
                            <h3 class="text-2xl font-bold text-gray-700 mb-4">Herkunft unserer Gäste</h3>
                            <div id="herkunftSlider" class="relative mt-auto">
                                <img id="imgGrafik" src="assets/besucherstatistik-nach-wohnort-anzahl-besucher-nach-ort.png" alt="Besucherstatistik nach Wohnort" class="rounded-lg shadow-md cursor-pointer w-full" onclick="openModal(this.src)">
                                <img id="imgKarte" src="assets/besucherstatistik-nach-wohnort-uebersichtskarte.png" alt="Übersichtskarte der Besucherherkunft" class="rounded-lg shadow-md cursor-pointer w-full hidden" onclick="openModal(this.src)">
                            </div>
                            <div id="sliderDots" class="flex justify-center space-x-2 mt-4">
                                <button class="slider-dot active h-3 w-3 bg-gray-300 rounded-full" data-slide="0"></button>
                                <button class="slider-dot h-3 w-3 bg-gray-300 rounded-full" data-slide="1"></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Finance Section -->
        <section id="finanzen" class="py-20 bg-gray-50">
            <div class="container mx-auto px-6 fade-in-section">
                <div class="text-center max-w-3xl mx-auto">
                    <h2 class="text-4xl font-bold text-rc-blue-dark">Finanzen</h2>
                    <p class="text-lg text-gray-600 mt-4">Dank der grosszügigen Unterstützung der Stadt Luzern und Spenden können wir unsere Tätigkeit nachhaltig sichern. Hier ein Blick auf unsere Zahlen.</p>
                </div>
                <div class="mt-12 max-w-4xl mx-auto bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-2xl font-bold text-gray-700 mb-4 text-center">Erfolgsrechnung 2024 & Budget 2025</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full min-w-max text-left">
                            <thead>
                                <tr class="border-b">
                                    <th class="p-3 font-semibold text-gray-600">Position</th>
                                    <th class="p-3 font-semibold text-gray-600 text-right">Rechnung 2024 (CHF)</th>
                                    <th class="p-3 font-semibold text-gray-600 text-right">Budget 2025 (CHF)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="border-b"><td colspan="3" class="pt-4 font-bold text-rc-blue-dark">Ertrag</td></tr>
                                <tr class="border-b">
                                    <td class="p-3">Sponsoren (Stadt Luzern)</td>
                                    <td class="p-3 text-right">5'000.00</td>
                                    <td class="p-3 text-right">5'000.00</td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-3">Erträge Anlässe & Bank</td>
                                    <td class="p-3 text-right">364.97</td>
                                    <td class="p-3 text-right">-</td>
                                </tr>
                                <tr class="bg-gray-100 font-semibold">
                                    <td class="p-3">Total Ertrag</td>
                                    <td class="p-3 text-right">5'364.97</td>
                                    <td class="p-3 text-right">5'000.00</td>
                                </tr>
                                <tr class="border-b"><td colspan="3" class="pt-4 font-bold text-rc-blue-dark">Aufwand</td></tr>
                                <tr class="border-b">
                                    <td class="p-3">Verpflegung Events</td>
                                    <td class="p-3 text-right">3'071.60</td>
                                    <td class="p-3 text-right">3'200.00</td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-3">Ausgaben (Ausflug, GV, Helferessen)</td>
                                    <td class="p-3 text-right">2'114.00</td>
                                    <td class="p-3 text-right">550.00</td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-3">Werkzeug & Material</td>
                                    <td class="p-3 text-right">570.60</td>
                                    <td class="p-3 text-right">650.00</td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-3">Werbung & Dienstleistungen</td>
                                    <td class="p-3 text-right">284.45</td>
                                    <td class="p-3 text-right">450.00</td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-3">Spezial Events</td>
                                    <td class="p-3 text-right">-</td>
                                    <td class="p-3 text-right">150.00</td>
                                </tr>
                                <tr class="bg-gray-100 font-semibold">
                                    <td class="p-3">Total Aufwand</td>
                                    <td class="p-3 text-right">6'040.65</td>
                                    <td class="p-3 text-right">5'000.00</td>
                                </tr>
                                <tr class="font-bold text-lg">
                                    <td class="p-3">Ergebnis</td>
                                    <td class="p-3 text-right text-red-600">-675.68</td>
                                    <td class="p-3 text-right text-green-600">0.00</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Special Events Section -->
        <section id="special-events" class="py-20 bg-white">
            <div class="container mx-auto px-6 fade-in-section">
                <div class="text-center max-w-3xl mx-auto">
                    <h2 class="text-4xl font-bold text-rc-blue-dark">Spezial-Events & Wissensvermittlung</h2>
                    <p class="text-lg text-gray-600 mt-4">Unser Engagement geht über die eigenen Veranstaltungen hinaus. Engagierte Mitglieder wie Ulrich Scholbe und weitere Helfer aus dem Team teilen ihr Wissen und unterstützen aktiv die Verbreitung der Reparatur-Idee in der ganzen Region.</p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mt-12 items-stretch">
                    <div class="bg-gray-50 p-6 rounded-lg shadow-md flex flex-col animate-item">
                        <img src="assets/neueroeffnung-repaircafe-horw.png" alt="Neueröffnung des Repair Cafés in Horw" class="rounded-lg shadow-md mb-4 cursor-pointer object-contain h-48 w-full" onclick="openModal(this.src)">
                        <h3 class="text-xl font-bold text-gray-700 mb-2">Starthilfe in Horw</h3>
                        <p class="text-gray-600">Wir freuen uns, dass wir bei der Neueröffnung des Repair Cafés in Horw Starthilfe leisten konnten. Ursina, Werner, Martin und Ulrich waren vor Ort, um ihre Erfahrung zu teilen.</p>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-lg shadow-md flex flex-col animate-item">
                        <img src="assets/repaircafe-hochschule-luzern-blockwoche-nachhaltigkeit.png" alt="Vortrag an der Hochschule Luzern" class="rounded-lg shadow-md mb-4 cursor-pointer object-contain h-48 w-full" onclick="openModal(this.src)">
                        <h3 class="text-xl font-bold text-gray-700 mb-2">Wissenstransfer</h3>
                        <p class="text-gray-600">Ulrich Scholbe und David Clormann hielten Vorträge an der HSLU, während an der ISS Rain/Hildisrieden Workshops für Schüler stattfanden, um junge Menschen fürs Reparieren zu begeistern.</p>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-lg shadow-md flex flex-col animate-item">
                        <img src="assets/marktplatz-60plus.png" alt="Marktstand" class="rounded-lg shadow-md mb-4 cursor-pointer object-contain h-48 w-full" onclick="openModal(this.src)">
                        <h3 class="text-xl font-bold text-gray-700 mb-2">Präsenz in der Region</h3>
                        <p class="text-gray-600">Mit einem Marktstand am "Marktplatz 60plus" in der Luzerner Kornschütte, betreut von Helen und Ulrich, konnten wir zahlreiche neue Kontakte knüpfen und für unsere Sache werben.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Team & Outlook Section -->
        <section id="team" class="py-20 bg-gray-50">
            <div class="container mx-auto px-6 fade-in-section">
                <div class="text-center max-w-3xl mx-auto">
                    <h2 class="text-4xl font-bold text-rc-blue-dark">Team, Wahlen und der Blick nach vorn</h2>
                    <p class="text-lg text-gray-600 mt-4">Ein engagiertes Team ist das Herz unseres Vereins. Wir danken für das Bisherige und freuen uns auf das Kommende. Gemeinsam wollen wir Bestehendes stärken und Neues wagen.</p>
                </div>
                <div class="max-w-5xl mx-auto">
                    <div class="grid md:grid-cols-5 gap-12 mt-12 items-center">
                        <div id="vorstandText" class="md:col-span-3">
                            <h3 class="text-2xl font-bold text-gray-700 mb-4">Wechsel im Vorstand</h3>
                            <p class="text-gray-600 space-y-3">
                                <span>An der diesjährigen Generalversammlung kommt es zu wichtigen Wechseln. Wir danken unserer bisherigen Präsidentin <strong>Mirjana Lawless</strong> herzlich für ihren grossartigen Einsatz.</span>
                                <span>Neu wird <strong>Christoph Notter</strong> (bisher Vorstandsmitglied) das Präsidium übernehmen. <strong>Marcel van de Ven</strong> bleibt dem Vorstand erfreulicherweise erhalten, und wir heissen <strong>David Clormann</strong> als neues Mitglied herzlich willkommen.</span>
                                <span>Ein besonderer Dank gilt auch unserem scheidenden Revisor Ernst Krummenacher. Mit <strong>Philippe Hasler</strong> kandidiert ein erfahrener Nachfolger.</span>
                            </p>
                        </div>
                        <div id="teamSlideshow" class="relative rounded-lg shadow-xl overflow-hidden md:col-span-2">
                            <img src="assets/screenshot-2025-05-19-104955.png" alt="Impression aus dem Repair Café 2" class="team-slide absolute top-0 left-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out">
                            <img src="assets/screenshot-2025-05-19-105008.png" alt="Impression aus dem Repair Café 3" class="team-slide absolute top-0 left-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out opacity-0">
                            <img src="assets/screenshot-2025-05-19-105028.png" alt="Impression aus dem Repair Café 4" class="team-slide absolute top-0 left-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out opacity-0">
                        </div>
                    </div>
                    <!-- New "Blick nach vorn" Section -->
                    <div class="mt-16 bg-white p-8 rounded-lg shadow-md">
                        <h3 class="text-2xl font-bold text-gray-700 mb-6">Ziele für die Zukunft</h3>
                        <ul class="list-styled text-gray-600 text-lg">
                            <li>Bestehende Strukturen stärken und optimieren.</li>
                            <li>Die Zusammenarbeit mit anderen Repair Cafés weiter ausbauen.</li>
                            <li>Einen Vereinsausflug im Spätsommer 2025 organisieren.</li>
                            <li>Den Fokus auf Sicherheit bei allen Reparaturen erhöhen.</li>
                            <li>Eine mögliche Teilnahme an der LUGA 2026 prüfen.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white text-center py-10">
        <p>Repair Café Luzern | Jahresbericht 2025</p>
        <p class="text-gray-400 text-sm mt-2">Ein herzliches Dankeschön an alle, die uns auf diesem Weg begleiten.</p>
    </footer>

    <!-- Image Modal -->
    <div id="imageModal" class="modal fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center opacity-0 pointer-events-none" onclick="closeModal()">
        <img id="modalImage" src="" alt="Vergrösserte Ansicht" class="max-w-[90%] max-h-[90%] object-contain rounded-lg">
        <button class="absolute top-4 right-4 text-white text-4xl" aria-label="Schliessen">&times;</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            Chart.register(ChartDataLabels);

            // --- ANIMATION OBSERVER ---
            const animatedElements = document.querySelectorAll('.fade-in-section, .animate-item');
            const animationObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        
                        const counters = entry.target.querySelectorAll('[data-count]');
                        counters.forEach(counter => {
                            animateCounter(counter);
                        });

                        // Wenn Canvas sichtbar wird, Chart erzeugen
                        if (entry.target.id && entry.target.id.endsWith('Chart')) {
                            createChart(entry.target.id);
                        }
                        
                        animationObserver.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.2 });

            animatedElements.forEach(el => {
                animationObserver.observe(el);
            });
            
            // Auch Canvas-Elemente beobachten
            document.querySelectorAll('canvas').forEach(canvas => {
                animationObserver.observe(canvas);
            });


            // --- ANIMATED COUNTERS ---
            function animateCounter(counter) {
                const target = +counter.dataset.count;
                if (counter.dataset.animated) return;
                counter.dataset.animated = true;
                
                let current = 0;
                const increment = target / 100;
                const interval = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        clearInterval(interval);
                        current = target;
                    }
                    counter.innerText = Math.ceil(current).toLocaleString('de-CH');
                }, 20);
            }

            // --- CHART.JS IMPLEMENTATIONS ---
            const chartFont = { family: 'Inter', size: 12 };
            const colorBlue = '#aadcf0';
            const colorPink = '#ff95ca';
            const colorPurple = '#d4b5f5';
            
            const chartInitializations = {
                erfolgsChart: function() {
                    new Chart(document.getElementById('erfolgsChart'), {
                        type: 'doughnut',
                        data: {
                            labels: ['Repariert', 'Teilweise repariert', 'Nicht repariert'],
                            datasets: [{
                                label: 'Anzahl',
                                data: [464, 48, 224],
                                backgroundColor: [colorBlue, colorPurple, colorPink],
                                borderColor: '#ffffff',
                                borderWidth: 4,
                                hoverOffset: 4
                            }]
                        },
                        options: {
                            animation: {
                                animateScale: true,
                                animateRotate: true
                            },
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: { position: 'bottom', labels: { font: chartFont } },
                                tooltip: { bodyFont: chartFont, titleFont: chartFont },
                                datalabels: {
                                    formatter: (value, ctx) => {
                                        let sum = ctx.chart.data.datasets[0].data.reduce((a, b) => a + b, 0);
                                        let percentage = (value*100 / sum).toFixed(1)+"%";
                                        return percentage;
                                    },
                                    color: '#fff',
                                    font: { weight: 'bold', size: 14, family: 'Inter' }
                                }
                            }
                        }
                    });
                },
                standortChart: function() {
                    new Chart(document.getElementById('standortChart'), {
                        type: 'bar',
                        data: {
                            labels: ['2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023', '2024', '2025'],
                            datasets: [
                                { label: 'Neubad', data: [120, 150, 175, 230, 260, 80, 70, 230, 330, 290, 370], backgroundColor: colorBlue },
                                { label: 'Bourbaki', data: [0, 0, 0, 0, 155, 105, 130, 230, 380, 250, 360], backgroundColor: colorPink }
                            ]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            animation: {
                                duration: 1600,
                                easing: 'easeOutCubic',
                                delay: (context) => {
                                    if (context.type !== 'data' || context.mode !== 'default') return 0;
                                    const i = context.dataIndex || 0;
                                    const d = context.datasetIndex || 0;
                                    return i * 140 + d * 50; // links→rechts Staffelung
                                }
                            },
                            animations: {
                                y: {
                                    from: (ctx) => ctx.chart.scales.y.getPixelForValue(0) // von der 0-Linie nach oben
                                },
                                height: { from: 0 }
                            },
                            plugins: {
                                legend: { position: 'bottom', labels: { font: chartFont } },
                                tooltip: { bodyFont: chartFont, titleFont: chartFont },
                                datalabels: { display: false }
                            },
                            scales: {
                                x: { stacked: true, ticks: { font: chartFont } },
                                y: { stacked: true, beginAtZero: true, ticks: { font: chartFont } }
                            }
                        }
                    });
                },
                eventsChart: function() {
                    const eventData = [
                        { location: 'Neubad', value: 54 }, { location: 'Neubad', value: 41 }, { location: 'Bourbaki', value: 41 }, 
                        { location: 'Bourbaki', value: 40 }, { location: 'Neubad', value: 49 }, { location: 'Neubad', value: 37 }, 
                        { location: 'Bourbaki', value: 44 }, { location: 'Neubad', value: 38 }, { location: 'Bourbaki', value: 29 },
                        { location: 'Neubad', value: 27 }, { location: 'Bourbaki', value: 41 }, { location: 'Neubad', value: 46 },
                        { location: 'Bourbaki', value: 47 }, { location: 'Neubad', value: 42 }, { location: 'Bourbaki', value: 41 },
                        { location: 'Neubad', value: 34 }, { location: 'Bourbaki', value: 48 }
                    ];
                    new Chart(document.getElementById('eventsChart'), {
                        type: 'bar',
                        data: {
                            labels: ["25. Mai", "7. Sep", "21. Sep", "12. Okt", "26. Okt", "16. Nov", "30. Nov", "14. Dez", "28. Dez", "18. Jan", "1. Feb", "22. Feb", "8. März", "22. März", "5. April", "26. April", "10. Mai"],
                            datasets: [{
                                label: 'Anzahl Reparaturen',
                                data: eventData.map(d => d.value),
                                backgroundColor: eventData.map(d => d.location === 'Neubad' ? colorBlue : colorPink),
                                barPercentage: 0.5,
                                categoryPercentage: 0.8
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            animation: {
                                duration: 1600,
                                easing: 'easeOutCubic',
                                delay: (context) => {
                                    if (context.type !== 'data' || context.mode !== 'default') return 0;
                                    const i = context.dataIndex || 0;
                                    return i * 130; // strikt links→rechts
                                }
                            },
                            animations: {
                                y: {
                                    from: (ctx) => ctx.chart.scales.y.getPixelForValue(0)
                                },
                                height: { from: 0 }
                            },
                            plugins: {
                                legend: { display: false },
                                tooltip: { 
                                    bodyFont: chartFont, 
                                    titleFont: chartFont,
                                    callbacks: {
                                        label: function(context) {
                                            const location = eventData[context.dataIndex].location;
                                            return `${location}: ${context.parsed.y}`;
                                        }
                                    }
                                },
                                datalabels: {
                                    anchor: 'end', align: 'top', color: '#333',
                                    font: { weight: 'bold', size: 10 }
                                }
                            },
                            scales: {
                                x: { ticks: { font: chartFont } },
                                y: { beginAtZero: true, ticks: { font: chartFont } }
                            }
                        }
                    });
                }
            };

            let createdCharts = {};
            function createChart(chartId) {
                if (!createdCharts[chartId]) {
                    chartInitializations[chartId]();
                    createdCharts[chartId] = true;
                }
            }

            // --- GUEST ORIGIN SLIDER ---
            const sliderDots = document.querySelectorAll('.slider-dot');
            const slides = [document.getElementById('imgGrafik'), document.getElementById('imgKarte')];
            sliderDots.forEach(dot => {
                dot.addEventListener('click', () => {
                    const slideIndex = dot.dataset.slide;
                    slides.forEach((slide, index) => {
                        slide.classList.toggle('hidden', index != slideIndex);
                    });
                    sliderDots.forEach(d => d.classList.remove('active'));
                    dot.classList.add('active');
                });
            });

            // --- TEAM SLIDESHOW & HEIGHT MATCHING ---
            const textBlock = document.getElementById('vorstandText');
            const slideshowContainer = document.getElementById('teamSlideshow');
            const teamSlides = document.querySelectorAll('.team-slide');
            let currentSlide = 0;

            function matchHeights() {
                if (window.innerWidth > 768 && textBlock && slideshowContainer) {
                    const textHeight = textBlock.offsetHeight;
                    slideshowContainer.style.height = `${textHeight}px`;
                } else {
                    slideshowContainer.style.height = '300px'; // Fallback für Mobile
                }
            }

            function nextSlide() {
                teamSlides[currentSlide].classList.add('opacity-0');
                currentSlide = (currentSlide + 1) % teamSlides.length;
                teamSlides[currentSlide].classList.remove('opacity-0');
            }

            if (teamSlides.length > 0) {
                matchHeights();
                window.addEventListener('resize', matchHeights);
                setInterval(nextSlide, 4000);
            }
        });

        // --- IMAGE MODAL LOGIC ---
        const modal = document.getElementById('imageModal');
        const modalImage = document.getElementById('modalImage');
        window.openModal = function(src) {
            if (!src) return;
            modalImage.src = src;
            modal.classList.remove('opacity-0', 'pointer-events-none');
        }
        window.closeModal = function() {
            modal.classList.add('opacity-0', 'pointer-events-none');
        }
    </script>

</body>
</html>
